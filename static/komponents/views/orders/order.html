<style>

    .order-summary-table {
        width: 100%;
        border-collapse: separate;
        -webkit-border-vertical-spacing: 10px;
    }
    .order-summary-table tr {
        margin-bottom: 5px;
    }
    .order-summary-table td {
        border-bottom: solid #e6e6e6 1px;
        padding: 5px;
        margin-bottom: 5px;
    }
    .order-summary-table td:first-child {
        font-weight: bold;
        background: #E6E6E6;

    }
    .bg-light-me {
        background-color: #d6d6d6 !important
    }
    a.bg-light-me:hover, a.bg-light:focus, button.bg-light:hover, button.bg-light:focus {
        background-color: #d5d5d5 !important
    }
    .employeeIconDelete {
        display: none;
        cursor: pointer;

    }
    .employee:hover {
        box-shadow:0 0.1rem 0.5rem rgba(0,0,0,0.15) !important;
        position: relative;
        top: 0.2rem;
        left: 0.2rem;
    }
    .employee:hover .employeeIconDelete {
        display: inline-block;
    }
    .employee:hover .employeeIcon {
        display: none;
    }
    .employeeName {
        font-weight: bold;
        cursor: pointer;
    }

</style>

<div class="modal" id="order_details_modal">
    <div class="modal-dialog modal-xl modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header" style="display: flex; align-items: center">
                <div class="modal-title">
                    Fisa comanda
                </div>
                <ul class="nav nav-pills">
                    <li class="nav-item">
                        <a data-toggle="tab" href="#sumar" class="nav-link" id="sumarTab">Sumar</a>
                    </li>
                    <li class="nav-item">
                        <a data-toggle="tab" href="#reperePanel" class="nav-link" id="repereTab">Continut</a>
                    </li>
                    <li class="nav-item">
                        <a data-toggle="tab" href="#documentePanel" class="nav-link" id="documenteTab">Documente</a>
                    </li>
                    <li class="nav-item">
                        <a data-toggle="tab" href="#ordersCostsPanel" class="nav-link" id="orderItemsTab">Elemente de cost</a>
                    </li>
                    <li class="nav-item">
                        <a data-toggle="tab" href="#resursePanel" class="nav-link" id="allocResTab">Resurse alocate</a>
                    </li>
                    <li class="nav-item">
                        <a data-toggle="tab" href="#pontaj" class="nav-link" id="timeTrackTab">Pontaj</a>
                    </li>
                    <li class="nav-item">
                        <a data-toggle="tab" href="#deliveries" class="nav-link" id="deliveriesTab">Livrari</a>
                    </li>
                    <li class="nav-item">
                        <a data-toggle="tab" href="#proprietati" class="nav-link" id="metaTab">Proprietati</a>
                    </li>
                </ul>
            </div>
            <div class="modal-body bg-white">
                <div class="tab-content">

                    <div class="tab-pane fade" id="sumar" is="komponent" data-url="/views/orders/details"></div>

                    <div class="tab-pane fade" id="reperePanel">
                        <div is="komponent" data-url="/views/orders/partsGallery" id="repere"></div>
                    </div>

                    <div class="tab-pane fade" id="documentePanel">
                        <div is="komponent" data-url="/views/orders/orderDocuments" id="documents"></div>
                    </div>

                    <div class="tab-pane fade" id="ordersCostsPanel">
                        <div is="komponent" data-url="/views/orders/orderCosts" id="ordersCosts"></div>
                    </div>

                    <div class="tab-pane fade" id="pontaj" is="komponent" data-url="/views/pontaj/registru"></div>

                    <div class="tab-pane fade" id="deliveriesContent" is="komponent" data-url="/views/pontaj/deliveries">
                        Deliveries
                    </div>

                    <div class="tab-pane fade" id="proprietati" is="komponent" data-url="/views/orders/orderDetails"></div>

                    <div class="tab-pane fade" id="resursePanel">
                        <div is="komponent" data-url="/views/orders/orderEmployees" id="resurse"></div>
                    </div>

                </div>
            </div>
            <div class="modal-footer">
                <button data-dismiss="modal" class="btn btn-secondary">Inchide</button>
            </div>
        </div>
    </div>
</div>

<script>

    function init_komponent(k,d) {

        checkUserRights(k.$el, "orders");

        k.$el.appendTo("body");

        let modal = $(k.$el.filter("#order_details_modal")).modal("show")
            .on("hidden.bs.modal",function () {
                k.$el.remove();
            });

        $("#ordersCosts").komponent({data:k.data});
        $("#repere").komponent({data:k.data});
        $("#sumar").komponent({data:k.data});
        $("#pontaj").komponent({data:k.data});
        $("#proprietati").komponent({data:k.data});
        $("#resurse").komponent({data:k.data});
        $("#documents").komponent({data:k.data});


        $("#sumarTab").tab("show");
        // console.log($("#comandaid").text(k.data.instance.id).text());
    }

</script>
